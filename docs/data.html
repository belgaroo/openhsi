---

title: Data

keywords: fastai
sidebar: home_sidebar

summary: "Save files into the desired file format. "
description: "Save files into the desired file format. "
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 03_data.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="save" class="doc_header"><code>save</code><a href="https://github.com/openhsi/docs/tree/master/openhsi/data.py#L10" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>save</code>(<strong><code>data</code></strong>, <strong><code>fname</code></strong>:<code>str</code>=<em><code>'cal_files/fname'</code></em>, <strong><code>format</code></strong>:<code>str</code>=<em><code>'nc'</code></em>)</p>
</blockquote>
<p>Could move to the capture module as a class method instead</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Perhaps this module should be integrated into the Trigger and Capture module rather than be separate...</strong></p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">netCDF4</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">dir</span><span class="p">(</span><span class="n">netCDF4</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;CompoundType&#39;,
 &#39;Dataset&#39;,
 &#39;Dimension&#39;,
 &#39;EnumType&#39;,
 &#39;Group&#39;,
 &#39;MFDataset&#39;,
 &#39;MFTime&#39;,
 &#39;NC_DISKLESS&#39;,
 &#39;NC_PERSIST&#39;,
 &#39;VLType&#39;,
 &#39;Variable&#39;,
 &#39;__all__&#39;,
 &#39;__builtins__&#39;,
 &#39;__cached__&#39;,
 &#39;__doc__&#39;,
 &#39;__file__&#39;,
 &#39;__has_cdf5_format__&#39;,
 &#39;__has_nc_create_mem__&#39;,
 &#39;__has_nc_inq_format_extended__&#39;,
 &#39;__has_nc_inq_path__&#39;,
 &#39;__has_nc_open_mem__&#39;,
 &#39;__has_parallel4_support__&#39;,
 &#39;__has_pnetcdf_support__&#39;,
 &#39;__has_rename_grp__&#39;,
 &#39;__hdf5libversion__&#39;,
 &#39;__loader__&#39;,
 &#39;__name__&#39;,
 &#39;__netcdf4libversion__&#39;,
 &#39;__package__&#39;,
 &#39;__path__&#39;,
 &#39;__pdoc__&#39;,
 &#39;__spec__&#39;,
 &#39;__version__&#39;,
 &#39;_netCDF4&#39;,
 &#39;buffer&#39;,
 &#39;chartostring&#39;,
 &#39;date2index&#39;,
 &#39;date2num&#39;,
 &#39;default_encoding&#39;,
 &#39;default_fillvals&#39;,
 &#39;get_chunk_cache&#39;,
 &#39;getlibversion&#39;,
 &#39;glob&#39;,
 &#39;is_native_big&#39;,
 &#39;is_native_little&#39;,
 &#39;ma&#39;,
 &#39;num2date&#39;,
 &#39;numpy&#39;,
 &#39;posixpath&#39;,
 &#39;python3&#39;,
 &#39;set_chunk_cache&#39;,
 &#39;stringtoarr&#39;,
 &#39;stringtochar&#39;,
 &#39;sys&#39;,
 &#39;unicode_error&#39;,
 &#39;utils&#39;,
 &#39;warnings&#39;,
 &#39;weakref&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">netCDF4</span> <span class="kn">import</span> <span class="n">Dataset</span>

<span class="n">rootgrp</span> <span class="o">=</span> <span class="n">Dataset</span><span class="p">(</span><span class="s2">&quot;test.ncdf4&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;NETCDF4&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">rootgrp</span><span class="o">.</span><span class="n">data_model</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;_______________________________________________&#39;</span><span class="p">)</span>

<span class="n">fcstgrp</span> <span class="o">=</span> <span class="n">rootgrp</span><span class="o">.</span><span class="n">createGroup</span><span class="p">(</span><span class="s2">&quot;forecasts&quot;</span><span class="p">)</span>
<span class="n">analgrp</span> <span class="o">=</span> <span class="n">rootgrp</span><span class="o">.</span><span class="n">createGroup</span><span class="p">(</span><span class="s2">&quot;analyses&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">rootgrp</span><span class="o">.</span><span class="n">groups</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;_______________________________________________&#39;</span><span class="p">)</span>

<span class="n">time</span> <span class="o">=</span> <span class="n">rootgrp</span><span class="o">.</span><span class="n">createDimension</span><span class="p">(</span><span class="s2">&quot;time&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="n">level</span> <span class="o">=</span> <span class="n">rootgrp</span><span class="o">.</span><span class="n">createDimension</span><span class="p">(</span><span class="s2">&quot;level&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="n">lat</span> <span class="o">=</span> <span class="n">rootgrp</span><span class="o">.</span><span class="n">createDimension</span><span class="p">(</span><span class="s2">&quot;lat&quot;</span><span class="p">,</span> <span class="mi">73</span><span class="p">)</span>
<span class="n">lon</span> <span class="o">=</span> <span class="n">rootgrp</span><span class="o">.</span><span class="n">createDimension</span><span class="p">(</span><span class="s2">&quot;lon&quot;</span><span class="p">,</span> <span class="mi">144</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">rootgrp</span><span class="o">.</span><span class="n">dimensions</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;_______________________________________________&#39;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">dimobj</span> <span class="ow">in</span> <span class="n">rootgrp</span><span class="o">.</span><span class="n">dimensions</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">dimobj</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;_______________________________________________&#39;</span><span class="p">)</span>
    
    
    
    
<span class="n">times</span> <span class="o">=</span> <span class="n">rootgrp</span><span class="o">.</span><span class="n">createVariable</span><span class="p">(</span><span class="s2">&quot;time&quot;</span><span class="p">,</span><span class="s2">&quot;f8&quot;</span><span class="p">,(</span><span class="s2">&quot;time&quot;</span><span class="p">,))</span>
<span class="n">levels</span> <span class="o">=</span> <span class="n">rootgrp</span><span class="o">.</span><span class="n">createVariable</span><span class="p">(</span><span class="s2">&quot;levelz&quot;</span><span class="p">,</span><span class="s2">&quot;i4&quot;</span><span class="p">,(</span><span class="s2">&quot;level&quot;</span><span class="p">,))</span>
<span class="n">latitudes</span> <span class="o">=</span> <span class="n">rootgrp</span><span class="o">.</span><span class="n">createVariable</span><span class="p">(</span><span class="s2">&quot;lat&quot;</span><span class="p">,</span><span class="s2">&quot;f4&quot;</span><span class="p">,(</span><span class="s2">&quot;lat&quot;</span><span class="p">,))</span>
<span class="n">longitudes</span> <span class="o">=</span> <span class="n">rootgrp</span><span class="o">.</span><span class="n">createVariable</span><span class="p">(</span><span class="s2">&quot;lon&quot;</span><span class="p">,</span><span class="s2">&quot;f4&quot;</span><span class="p">,(</span><span class="s2">&quot;lon&quot;</span><span class="p">,))</span>

<span class="n">temp</span> <span class="o">=</span> <span class="n">rootgrp</span><span class="o">.</span><span class="n">createVariable</span><span class="p">(</span><span class="s2">&quot;temp&quot;</span><span class="p">,</span><span class="s2">&quot;f4&quot;</span><span class="p">,(</span><span class="s2">&quot;time&quot;</span><span class="p">,</span><span class="s2">&quot;level&quot;</span><span class="p">,</span><span class="s2">&quot;lat&quot;</span><span class="p">,</span><span class="s2">&quot;lon&quot;</span><span class="p">,))</span>
<span class="n">temp</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="s2">&quot;K&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">temp</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;_______________________________________________&#39;</span><span class="p">)</span>




<span class="nb">print</span><span class="p">(</span><span class="n">rootgrp</span><span class="o">.</span><span class="n">variables</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;_______________________________________________&#39;</span><span class="p">)</span>


<span class="n">rootgrp</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>NETCDF4
_______________________________________________
{&#39;forecasts&#39;: &lt;class &#39;netCDF4._netCDF4.Group&#39;&gt;
group /forecasts:
    dimensions(sizes): 
    variables(dimensions): 
    groups: , &#39;analyses&#39;: &lt;class &#39;netCDF4._netCDF4.Group&#39;&gt;
group /analyses:
    dimensions(sizes): 
    variables(dimensions): 
    groups: }
_______________________________________________
{&#39;time&#39;: &lt;class &#39;netCDF4._netCDF4.Dimension&#39;&gt; (unlimited): name = &#39;time&#39;, size = 0, &#39;level&#39;: &lt;class &#39;netCDF4._netCDF4.Dimension&#39;&gt; (unlimited): name = &#39;level&#39;, size = 0, &#39;lat&#39;: &lt;class &#39;netCDF4._netCDF4.Dimension&#39;&gt;: name = &#39;lat&#39;, size = 73, &#39;lon&#39;: &lt;class &#39;netCDF4._netCDF4.Dimension&#39;&gt;: name = &#39;lon&#39;, size = 144}
_______________________________________________
&lt;class &#39;netCDF4._netCDF4.Dimension&#39;&gt; (unlimited): name = &#39;time&#39;, size = 0
&lt;class &#39;netCDF4._netCDF4.Dimension&#39;&gt; (unlimited): name = &#39;level&#39;, size = 0
&lt;class &#39;netCDF4._netCDF4.Dimension&#39;&gt;: name = &#39;lat&#39;, size = 73
&lt;class &#39;netCDF4._netCDF4.Dimension&#39;&gt;: name = &#39;lon&#39;, size = 144
_______________________________________________
&lt;class &#39;netCDF4._netCDF4.Variable&#39;&gt;
float32 temp(time, level, lat, lon)
    units: K
unlimited dimensions: time, level
current shape = (0, 0, 73, 144)
filling on, default _FillValue of 9.969209968386869e+36 used
_______________________________________________
{&#39;time&#39;: &lt;class &#39;netCDF4._netCDF4.Variable&#39;&gt;
float64 time(time)
unlimited dimensions: time
current shape = (0,)
filling on, default _FillValue of 9.969209968386869e+36 used, &#39;levelz&#39;: &lt;class &#39;netCDF4._netCDF4.Variable&#39;&gt;
int32 levelz(level)
unlimited dimensions: level
current shape = (0,)
filling on, default _FillValue of -2147483647 used, &#39;lat&#39;: &lt;class &#39;netCDF4._netCDF4.Variable&#39;&gt;
float32 lat(lat)
unlimited dimensions: 
current shape = (73,)
filling on, default _FillValue of 9.969209968386869e+36 used, &#39;lon&#39;: &lt;class &#39;netCDF4._netCDF4.Variable&#39;&gt;
float32 lon(lon)
unlimited dimensions: 
current shape = (144,)
filling on, default _FillValue of 9.969209968386869e+36 used, &#39;temp&#39;: &lt;class &#39;netCDF4._netCDF4.Variable&#39;&gt;
float32 temp(time, level, lat, lon)
    units: K
unlimited dimensions: time, level
current shape = (0, 0, 73, 144)
filling on, default _FillValue of 9.969209968386869e+36 used}
_______________________________________________
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">rootgrp</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">RawData</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">fname</span><span class="p">::</span><span class="nb">str</span><span class="o">=</span><span class="s2">&quot;test.nc&quot;</span><span class="p">):</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">fname</span> <span class="o">=</span> <span class="n">fname</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rootgrp</span> <span class="o">=</span> <span class="n">Dataset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fname</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;NETCDF4&quot;</span><span class="p">)</span>
        
        <span class="c1"># GPS</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">time_stamp</span>  <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rootgrp</span><span class="o">.</span><span class="n">createDimension</span><span class="p">(</span><span class="s2">&quot;time&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">time_stamps</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rootgrp</span><span class="o">.</span><span class="n">createVariable</span><span class="p">(</span><span class="s2">&quot;time&quot;</span><span class="p">,</span><span class="s2">&quot;f8&quot;</span><span class="p">,(</span><span class="s2">&quot;time&quot;</span><span class="p">,))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">time_stamps</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="s2">&quot;s&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">latitude</span>    <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rootgrp</span><span class="o">.</span><span class="n">createDimension</span><span class="p">(</span><span class="s2">&quot;lat&quot;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">latitudes</span>   <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rootgrp</span><span class="o">.</span><span class="n">createVariable</span><span class="p">(</span><span class="s2">&quot;lat&quot;</span><span class="p">,</span><span class="s2">&quot;f8&quot;</span><span class="p">,(</span><span class="s2">&quot;lat&quot;</span><span class="p">,))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">latitudes</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="s2">&quot;deg&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">longitude</span>   <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rootgrp</span><span class="o">.</span><span class="n">createDimension</span><span class="p">(</span><span class="s2">&quot;long&quot;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">longitudes</span>  <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rootgrp</span><span class="o">.</span><span class="n">createVariable</span><span class="p">(</span><span class="s2">&quot;long&quot;</span><span class="p">,</span><span class="s2">&quot;f8&quot;</span><span class="p">,(</span><span class="s2">&quot;long&quot;</span><span class="p">,))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">longitudes</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="s2">&quot;deg&quot;</span>
        
        <span class="c1"># IMU</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">orientation</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rootgrp</span><span class="o">.</span><span class="n">createDimension</span><span class="p">(</span><span class="s2">&quot;orien&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">orientations</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rootgrp</span><span class="o">.</span><span class="n">createVariable</span><span class="p">(</span><span class="s2">&quot;orien&quot;</span><span class="p">,</span><span class="s2">&quot;f8&quot;</span><span class="p">,(</span><span class="s2">&quot;orien&quot;</span><span class="p">,))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">orientations</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="s2">&quot;rad&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">velocity</span>   <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rootgrp</span><span class="o">.</span><span class="n">createDimension</span><span class="p">(</span><span class="s2">&quot;vel&quot;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">velocities</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rootgrp</span><span class="o">.</span><span class="n">createVariable</span><span class="p">(</span><span class="s2">&quot;vel&quot;</span><span class="p">,</span><span class="s2">&quot;f8&quot;</span><span class="p">,(</span><span class="s2">&quot;vel&quot;</span><span class="p">,))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">velocities</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="s2">&quot;m/s&quot;</span>
        
        <span class="c1"># OpenHSI</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hsi_frame</span>  <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rootgrp</span><span class="o">.</span><span class="n">createDimension</span><span class="p">(</span><span class="s2">&quot;hsi_frame&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hsi_frames</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rootgrp</span><span class="o">.</span><span class="n">createVariable</span><span class="p">(</span><span class="s2">&quot;hsi_frame&quot;</span><span class="p">,</span><span class="s2">&quot;f8&quot;</span><span class="p">,(</span><span class="s2">&quot;hsi_frame&quot;</span><span class="p">,))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hsi_frames</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="s2">&quot;reflectance&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">metadata</span>   <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rootgrp</span><span class="o">.</span><span class="n">createDimension</span><span class="p">(</span><span class="s2">&quot;metadata&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">metadatas</span>  <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rootgrp</span><span class="o">.</span><span class="n">createVariable</span><span class="p">(</span><span class="s2">&quot;metadata&quot;</span><span class="p">,</span><span class="s2">&quot;f8&quot;</span><span class="p">,(</span><span class="s2">&quot;metadata&quot;</span><span class="p">,))</span> <span class="c1"># xml file</span>
        
        <span class="sd">&quot;&quot;&quot; from Ian&#39;s code</span>
<span class="sd">        # resolution?</span>
<span class="sd">        # Set crs globally [alternative method!]</span>
<span class="sd">        setattr(ncds, &#39;time_coverage_start&#39;, str(dt.date(1970,1,1)+relativedelta(seconds=timei[0])))</span>
<span class="sd">        setattr(ncds, &#39;time_coverage_end&#39;, str(dt.date(1970,1,1)+relativedelta(seconds=timei[-1])))</span>
<span class="sd">        setattr(ncds, &#39;DOI&#39;, &quot;To be added&quot;)</span>
<span class="sd">        setattr(ncds, &#39;id&#39;, metadata[2])</span>
<span class="sd">        setattr(ncds, &#39;title&#39;, metadata[0])</span>
<span class="sd">        setattr(ncds, &#39;citation&#39;, metadata[4])</span>
<span class="sd">        setattr(ncds, &#39;references&#39;,metadata[5])</span>
<span class="sd">        setattr(ncds, &#39;keywords&#39;, &quot;EARTH SCIENCE &gt; ATMOSPHERE&quot;)</span>
<span class="sd">        setattr(ncds, &#39;summary&#39;, metadata[3])</span>
<span class="sd">        setattr(ncds, &#39;publisher_name&#39;, &quot;The University of Sydney&quot;)</span>
<span class="sd">        setattr(ncds, &#39;acknowledgment&#39;, &quot;The creation of this data was funded by The University of Sydney.&quot;)</span>
<span class="sd">        setattr(ncds, &#39;source&#39;, &#39;ANUClimate_v2-0&#39;)</span>
<span class="sd">        setattr(ncds, &#39;publisher_url&#39;, &quot;http://www.anuclimate.org.au&quot;)</span>
<span class="sd">        setattr(ncds, &#39;publisher_email&#39;, &quot;anuclimate@gmail.com&quot;)</span>
<span class="sd">        setattr(ncds, &#39;keywords_vocabulary&#39;, &quot;ANZSCR-FOR: http://www.abs.gov.au/ausstats/abs@.nsf/0/6BB427AB9696C225CA2574180004463E&quot;)</span>
<span class="sd">        setattr(ncds, &#39;metadata_link&#39;, &quot;http://geonetworkrr9.nci.org.au/geonetwork/srv/eng/catalog.search#/home&quot;)</span>
<span class="sd">        setattr(ncds, &#39;metadata_uuid&#39;, metadata[7])</span>
<span class="sd">        setattr(ncds, &#39;creator_name&#39;, &quot;Michael Hutchinson, Jennifer Kesteven, Tingbao Xu, Ian Marang, Bradley Evans&quot;)</span>
<span class="sd">        setattr(ncds, &#39;creator_email&#39;, &quot;anuclimate@gmail.com&quot;)</span>
<span class="sd">        setattr(ncds, &#39;creator_url&#39;, &quot;http://anuclimate.org.au&quot;)</span>
<span class="sd">        setattr(ncds, &#39;institution&#39;, &quot;Australian National University&quot;)</span>
<span class="sd">        setattr(ncds, &#39;license&#39;, &quot;Copyright &quot;+str(dt.date.today().year)+&quot; ANU. Rights owned by The Australian National University (ANU). Rights licensed subject to Attribution Licence (CC BY 4.0)  https://creativecommons.org/licenses/by/4.0/legalcode&quot;)</span>
<span class="sd">        setattr(ncds, &#39;Conventions&#39;, &quot;ACDD-1.3&quot;)</span>
<span class="sd">        setattr(ncds, &#39;coverage_content_type&#39;, &quot;modelResult&quot;)</span>
<span class="sd">        setattr(ncds, &#39;cdm_data_type&#39;, &quot;grid&quot;)</span>
<span class="sd">        setattr(ncds, &#39;contact&#39;, &quot;Bradley Evans, Senior Lecturer, The University of Sydney, School of Life and Environmental Sciences, Building C81, 1 Central Avenue, Eveleigh, NSW, 2015, bradley.evans@sydney.edu.au, http://orcid.org/0000-0001-6675-3118&quot;)</span>
<span class="sd">        setattr(ncds, &#39;history&#39;, &quot;Reformatted to NetCDF: &quot;+dt.date.today().isoformat())</span>
<span class="sd">        setattr(ncds, &#39;date_created&#39;, dt.date.today().isoformat())</span>
<span class="sd">        # Close the file</span>
<span class="sd">        print &#39;Congratulations, your netCDF file is baked! See:&#39;, outfile</span>
<span class="sd">        ncds.close()</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
    <span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rootgrp</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

</div>
 

